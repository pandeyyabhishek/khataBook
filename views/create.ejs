<%- include('./partials/header.ejs') %>
<div class="container mx-auto p-6">
  <div
    class="max-w-lg mx-auto bg-white p-6 border border-gray-300 rounded-lg shadow-md"
  >
    <h2 class="text-2xl font-semibold mb-4">Create New Hisaab</h2>
    <form action="/hisaab/create" method="post">
      <div class="mb-4">
        <input
          required
          name="title"
          type="text"
          placeholder="Shopping Hisaab, Ghar ka Kharch..."
          class="w-full p-2 border border-gray-300 rounded"
        />
      </div>
      <div class="mb-4">
        <textarea
          name="description"
          required
          placeholder="Daal, Aata, Cheeni"
          class="resize-none w-full p-2 border border-gray-300 rounded h-32"
        ></textarea>
      </div>
      <div class="mb-4">
        <label class="inline-flex items-center">
          <input
            id="encrypt-checkbox"
            name="encrypted"
            type="checkbox"
            class="form-checkbox"
          />
          <span class="ml-2">Encrypt this file</span>
        </label>
        <input
          disabled
          id="passcode-input"
          name="passcode"
          type="password"
          placeholder="Passcode"
          class="w-full mt-2 p-2 border border-gray-300 rounded"
        />
      </div>
      <div class="mb-4">
        <label class="inline-flex items-center">
          <input name="shareable" type="checkbox" class="form-checkbox" />
          <span class="ml-2">Shareable file?</span>
        </label>
      </div>
      <div class="mb-4">
        <label class="inline-flex items-center">
          <input
            name="editable"
            type="checkbox"
            class="form-checkbox"
            checked
          />
          <span class="ml-2">Edit permissions.</span>
        </label>
      </div>
      <div>
        <button type="submit" class="w-full bg-blue-500 text-white p-2 rounded">
          Create New Hisaab
        </button>
      </div>
    </form>
  </div>
</div>
<script>
  // JavaScript to enable/disable the passcode field
  document
    .getElementById("encrypt-checkbox")
    .addEventListener("change", function () {
      var passcodeInput = document.getElementById("passcode-input");
      if (this.checked) {
        passcodeInput.removeAttribute("disabled");
      } else {
        passcodeInput.setAttribute("disabled", "true");
      }
    });
</script>
<%- include('./partials/footer.ejs') %>
